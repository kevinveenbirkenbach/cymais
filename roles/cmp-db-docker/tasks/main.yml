- name: "set database_application_id (Needed due to lazzy loading issue)"
  set_fact:
    database_application_id: "{{ application_id }}"

- name: "Load database variables"
  include_vars: "{{ item }}"
  loop:
    - "{{ cmp_db_docker_vars_file_docker }}"   # Important to load docker variables first so that database can use them
    - "{{ cmp_db_docker_vars_file_db }}" # Important to load them before docker role so that backup can use them

- name: "Load docker-compose for {{ application_id }}"
  include_role: 
    name: docker-compose

- name: "Load central rdbms for {{ application_id }}"
  include_role: 
    name: cmp-rdbms