---




- name: "include docker-compose role"
  include_role: 
    name: docker-compose
  when: run_once_docker_libretranslate is not defined






- name: "include role webserver-proxy-domain for {{application_id}}"
  include_role:
    name: webserver-proxy-domain
  vars:
    domain:   "{{ domains | get_domain(application_id) }}"
    http_port:   "{{ ports.localhost.http[application_id] }}"
  when: run_once_docker_libretranslate is not defined

- name: run the libretranslate tasks once
  set_fact:
    run_once_docker_libretranslate: true
  when: run_once_docker_libretranslate is not defined
